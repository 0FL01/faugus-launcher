{
    "bug_report": {
        "id": "FAUGUS-RS-001",
        "title": "Неполное контекстное меню для добавленной игры",
        "severity": "high",
        "priority": "P1",
        "created_at": "2026-01-16T09:38:00+03:00",
        "version": "0.0.1",
        "component": "gui/context_menu",
        "status": "open",
        "reporter": "user",
        "summary": "Контекстное меню при правом клике на игру в Rust версии содержит только 3 пункта вместо 10 пунктов, как в Python версии.",
        "description": {
            "problem": "При правом клике на добавленную игру в Rust версии отображается урезанное контекстное меню с минимальным функционалом.",
            "expected_behavior": "Контекстное меню должно содержать все опции, как в Python версии: Title, Playtime, Play, Edit, Delete, Duplicate, Hide/Show, Open game location, Open prefix location, Show logs",
            "actual_behavior": "Контекстное меню содержит только 3 пункта: 'Open game location', 'Open prefix location', 'Show logs'"
        },
        "affected_files": [
            {
                "path": "src/gui/context_menu.rs",
                "issue": "Определение ContextMenuMessage содержит только 3 варианта вместо 8",
                "line_range": "5-10"
            },
            {
                "path": "src/gui/context_menu.rs",
                "issue": "Метод view() отрисовывает только 3 кнопки вместо полного набора",
                "line_range": "26-51"
            },
            {
                "path": "src/main.rs",
                "issue": "Обработчик ContextMenu(msg) не обрабатывает отсутствующие сообщения",
                "line_range": "269-295"
            }
        ],
        "comparison": {
            "python_version": {
                "file": "faugus_launcher.py",
                "context_menu_items": [
                    {
                        "name": "menu_item_title",
                        "description": "Заголовок с названием игры",
                        "line": 236
                    },
                    {
                        "name": "menu_item_playtime",
                        "description": "Время игры",
                        "line": 240
                    },
                    {
                        "name": "menu_item_play",
                        "description": "Запустить игру",
                        "line": 246
                    },
                    {
                        "name": "menu_item_edit",
                        "description": "Редактировать игру",
                        "line": 250
                    },
                    {
                        "name": "menu_item_delete",
                        "description": "Удалить игру",
                        "line": 254
                    },
                    {
                        "name": "menu_item_duplicate",
                        "description": "Дублировать игру",
                        "line": 258
                    },
                    {
                        "name": "menu_item_hide",
                        "description": "Скрыть/Показать игру",
                        "line": 262
                    },
                    {
                        "name": "menu_item_game",
                        "description": "Открыть папку игры",
                        "line": 266
                    },
                    {
                        "name": "menu_item_prefix",
                        "description": "Открыть папку префикса",
                        "line": 270
                    },
                    {
                        "name": "menu_show_logs",
                        "description": "Показать логи",
                        "line": 274
                    }
                ],
                "total_items": 10
            },
            "rust_version": {
                "file": "src/gui/context_menu.rs",
                "context_menu_items": [
                    {
                        "name": "OpenLocation",
                        "description": "Открыть папку игры",
                        "line": 7
                    },
                    {
                        "name": "OpenPrefix",
                        "description": "Открыть папку префикса",
                        "line": 8
                    },
                    {
                        "name": "ShowLogs",
                        "description": "Показать логи",
                        "line": 9
                    }
                ],
                "total_items": 3
            },
            "missing_items": [
                "Title (название игры в меню)",
                "Playtime (время игры)",
                "Play (запустить игру)",
                "Edit (редактировать игру)",
                "Delete (удалить игру)",
                "Duplicate (дублировать игру)",
                "Hide/Show (скрыть/показать игру)"
            ]
        },
        "steps_to_reproduce": [
            "1. Запустить Faugus Launcher (Rust версия)",
            "2. Добавить игру через кнопку 'Add'",
            "3. Нажать правой кнопкой мыши на игру в списке",
            "4. Наблюдать контекстное меню с ограниченным функционалом"
        ],
        "evidence": {
            "screenshot": "uploaded_image_1768545514234.png",
            "screenshot_description": "Скриншот показывает контекстное меню с только 3 пунктами для игры 'WG2'",
            "logs": {
                "timestamp": "2026-01-16T06:33:12",
                "entries": [
                    "INFO faugus_launcher_rs::gui::main_window: Launching game: WG2",
                    "ERROR faugus_launcher_rs::launcher::launch_controller: Failed to launch game WG2: Runner 'GE-Proton Latest (default)' is not installed"
                ]
            }
        },
        "fix_suggestion": {
            "description": "Необходимо расширить ContextMenuMessage и view() для поддержки всех опций",
            "changes_required": [
                {
                    "file": "src/gui/context_menu.rs",
                    "action": "Добавить новые варианты в enum ContextMenuMessage: Play, Edit, Delete, Duplicate, HideShow",
                    "code_example": "pub enum ContextMenuMessage {\n    Play,\n    Edit,\n    Delete,\n    Duplicate,\n    HideShow,\n    OpenLocation,\n    OpenPrefix,\n    ShowLogs,\n}"
                },
                {
                    "file": "src/gui/context_menu.rs",
                    "action": "Обновить struct ContextMenu для хранения информации об игре (название, playtime, hidden status)",
                    "code_example": "pub struct ContextMenu {\n    pub game_index: usize,\n    pub game_title: String,\n    pub playtime: String,\n    pub is_hidden: bool,\n    pub position: Point,\n}"
                },
                {
                    "file": "src/gui/context_menu.rs",
                    "action": "Обновить метод view() для отрисовки всех пунктов меню",
                    "code_example": "// Добавить заголовок с названием игры и playtime\n// Добавить кнопки Play, Edit, Delete, Duplicate, Hide/Show"
                },
                {
                    "file": "src/main.rs",
                    "action": "Добавить обработчики для новых сообщений в match msg",
                    "code_example": "ContextMenuMessage::Play => Task::done(Message::PlayClicked),\nContextMenuMessage::Edit => Task::done(Message::ShowEditGameDialog(game_index)),\nContextMenuMessage::Delete => Task::done(Message::DeleteClicked),\nContextMenuMessage::Duplicate => Task::done(Message::DuplicateClicked),\nContextMenuMessage::HideShow => Task::done(Message::HideShowClicked),"
                }
            ],
            "estimated_effort": "2-3 часа разработки"
        },
        "related_issues": [
            {
                "feature_parity_doc": "FEATURE_PARITY.md",
                "related_sections": [
                    "Game Management - Hide/Show games (marked as missing)",
                    "Game Management - Duplicate game functionality (marked as missing)"
                ]
            }
        ],
        "labels": [
            "bug",
            "gui",
            "context-menu",
            "feature-parity",
            "high-priority"
        ]
    }
}