{
  "bug_report": {
    "title": "Отчёт о багах GUI: Rust-версия Faugus Launcher",
    "date": "2026-01-15",
    "status": "Критический (Приложение невозможно полноценно использовать)",
    "summary": "Основные проблемы связаны с ошибками верстки (layout) в Iced, из-за которых критические кнопки управления в диалогах оказываются за пределами экрана, а также отсутствием ключевого функционала, присутствующего в Python-версии.",
    "critical_bugs": [
      {
        "id": "DIALOG_LAYOUT_HIDDEN_BUTTONS",
        "description": "Кнопки 'Ок', 'Apply' и 'Cancel' во всех диалогах (Add Game, Settings) невидимы или обрезаны.",
        "root_cause": "В src/main.rs диалоги отображаются через 'column![backdrop, container(dialog_view)]', где обе части имеют высоту 'Fill'. Это заставляет диалог начинаться строго с середины экрана и уходить вниз за границы окна. Внутренние кнопки диалогов внизу становятся недоступны.",
        "affected_files": ["src/main.rs", "src/gui/add_game_dialog.rs", "src/gui/settings_dialog.rs"]
      },
      {
        "id": "CONFIRMATION_DIALOG_MISALIGNMENT",
        "description": "Диалог подтверждения удаления смещен вправо.",
        "root_cause": "В src/gui/confirmation_dialog.rs используется 'row![background, dialog]', где фон занимает всю левую часть, толкая само окно в правый угол.",
        "affected_files": ["src/gui/confirmation_dialog.rs"]
      }
    ],
    "missing_critical_features": [
      {
        "feature": "Контекстное меню (ПКМ)",
        "description": "В Rust-версии отсутствует меню при клике правой кнопкой мыши на игру. В Python-версии через него доступны: 'Open game location', 'Open prefix location', 'Show logs'. Без этого отладка неработающих игр крайне затруднена."
      },
      {
        "feature": "Кнопка 'Kill All'",
        "description": "Отсутствует глобальная кнопка принудительного закрытия всех игр (есть в Python-версии). В Rust-версии есть только 'Stop' для выбранной игры."
      },
      {
        "feature": "Интеграция Winetricks/Winecfg",
        "description": "Кнопки в настройках добавлены визуально, но не имеют реализации (в коде помечены как TODO)."
      },
      {
        "feature": "Управление баннерами",
        "description": "В Rust-версии нет функционала выбора или загрузки баннеров для игр, что делает режимы просмотра 'Blocks' и 'Banners' малополезными по сравнению с Python-версией."
      }
    ],
    "reproduction_steps": [
      "1. Запустить Rust-версию (cargo run).",
      "2. Нажать 'Add' или 'Settings'.",
      "3. Попробовать найти кнопку сохранения ('Ok'/'Apply') в нижней части диалога (она будет отсутствовать из-за обрезки)."
    ],
    "recommendations": [
      "Исправить рендеринг модальных окон в src/main.rs, используя центрирование контейнера вместо разделения экрана 50/50.",
      "Реализовать обработку событий правой кнопки мыши в main_window.rs для вызова контекстного меню.",
      "Добавить реализацию для кнопок Winetricks/Winecfg, используя std::process::Command."
    ]
  }
}
